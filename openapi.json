{"openapi":"3.1.0","info":{"title":"Advertising service","summary":"Advertising service is a simple API of an advertisement board","description":"\n    **Advertisements**\n    You will be able to use all CRUD operations with Advertisement (Adv) model\n    \n    **Comments**\n    You can add new Comments or delete them to any Advertisement\n    \n    **Users**\n    You will be able to use all CRUD operations with User model\n    \n    **Auth**\n    Service offers JWT tokens is used for authorization \n","version":"1.0"},"paths":{"/auth/register":{"post":{"tags":["Authorization"],"summary":"Sign up endpoint","description":"Router for users sign up","operationId":"register_user_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["Authorization"],"summary":"Login endpoint","operationId":"login_user_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_user_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me":{"get":{"tags":["User"],"summary":"Get authorized User profile info","description":"Router for getting current user profile information","operationId":"get_user_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserBase"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["User"],"summary":"Change authorized User profile info","description":"Router for changing current user profile information","operationId":"change_user_users_me_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserBase"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["User"],"summary":"Delete authorized User","description":"Router for deleting current user","operationId":"delete_user_users_me_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/list":{"get":{"tags":["User"],"summary":"Get list of all Users","description":"Router for getting user profile information","operationId":"get_all_users_users_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserFullInfo"},"type":"array","title":"Response Get All Users Users List Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/change":{"post":{"tags":["User"],"summary":"Update restricted Users' data - only for ADMIN","description":"Router for changing restricted User information (e.g. role and status) by ADMIN","operationId":"change_users_restricted_data_users_change_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateAdmin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserFullInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/adv/{adv_id}/comments":{"get":{"tags":["Advertisement and Comment"],"summary":"Get all comments of {adv_id} advertisement","description":"Router for getting all comments of any advertisement","operationId":"get_comments_adv__adv_id__comments_get","parameters":[{"name":"adv_id","in":"path","required":true,"schema":{"type":"integer","title":"Adv Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"type":"array","items":{"$ref":"#/components/schemas/CommentBase"}},{"type":"null"}],"title":"Response Get Comments Adv  Adv Id  Comments Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Advertisement and Comment"],"summary":"Create new comment for {adv_id} advertisement","description":"Router for creating a new comment","operationId":"create_comment_adv__adv_id__comments_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"adv_id","in":"path","required":true,"schema":{"type":"integer","title":"Adv Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentBase"},"title":"Response Create Comment Adv  Adv Id  Comments Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/adv/{adv_id}/comments/{comment_id}":{"put":{"tags":["Advertisement and Comment"],"summary":"Update comment with {comment_id} of {adv_id} advertisement","description":"Router for changing a comment. Accessible only for\nAUTHOR of the comment and for ADMIN","operationId":"update_comments_adv__adv_id__comments__comment_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"adv_id","in":"path","required":true,"schema":{"type":"integer","title":"Adv Id"}},{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentBase"},"title":"Response Update Comments Adv  Adv Id  Comments  Comment Id  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Advertisement and Comment"],"summary":"Delete comment with {comment_id} of {adv_id} advertisement","description":"Router for deleting a comment. Accessible only for\nAUTHOR of the comment and for ADMIN","operationId":"delete_comment_adv__adv_id__comments__comment_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"adv_id","in":"path","required":true,"schema":{"type":"integer","title":"Adv Id"}},{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/adv/del_comments/{adv_group}":{"delete":{"tags":["Advertisement and Comment"],"summary":"Delete all comments of {adv_group} advertisements - only for ADMIN","description":"Router for deleting all comments from specific Adv Group.\nAccessible only for ADMIN","operationId":"delete_comments_adv_del_comments__adv_group__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"adv_group","in":"path","required":true,"schema":{"$ref":"#/components/schemas/Group"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/adv/":{"get":{"tags":["Advertisement and Comment"],"summary":"Get all advertisements","description":"Router for getting all advertisements","operationId":"get_advs_adv__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AdvBase"},"type":"array","title":"Response Get Advs Adv  Get"}}}}}},"post":{"tags":["Advertisement and Comment"],"summary":"Create new advertisement","description":"Router for creating a new advertisement","operationId":"create_adv_adv__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvBase"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/adv/{adv_id}":{"get":{"tags":["Advertisement and Comment"],"summary":"Get {adv_id} advertisement","description":"Router for getting all advertisements","operationId":"get_advs_adv__adv_id__get","parameters":[{"name":"adv_id","in":"path","required":true,"schema":{"type":"integer","title":"Adv Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvBase"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Advertisement and Comment"],"summary":"Update {adv_id} advertisement","description":"Router for updating info about an advertisement. Accessible only for\nAUTHOR of an advertisement and for ADMIN","operationId":"update_adv_adv__adv_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"adv_id","in":"path","required":true,"schema":{"type":"integer","title":"Adv Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvBase"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Advertisement and Comment"],"summary":"Delete {adv_id} advertisement","description":"Router for deleting an advertisement. Accessible only for\nAUTHOR of the advertisement and for ADMIN","operationId":"delete_adv_adv__adv_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"adv_id","in":"path","required":true,"schema":{"type":"integer","title":"Adv Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AdvBase":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"body":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Body"},"author_id":{"type":"integer","title":"Author Id"},"group":{"$ref":"#/components/schemas/Group"}},"type":"object","required":["id","title","author_id","group"],"title":"AdvBase","description":"Base model to view advertisement info"},"AdvCreate":{"properties":{"title":{"type":"string","maxLength":50,"minLength":3,"title":"Title"},"body":{"anyOf":[{"type":"string","maxLength":2500},{"type":"null"}],"title":"Body"},"group":{"allOf":[{"$ref":"#/components/schemas/Group"}],"default":"SELL"}},"type":"object","required":["title"],"title":"AdvCreate","description":"Model to CREATE advertisement"},"AdvUpdate":{"properties":{"title":{"type":"string","maxLength":50,"minLength":3,"title":"Title"},"body":{"anyOf":[{"type":"string","maxLength":2500},{"type":"null"}],"title":"Body"},"group":{"allOf":[{"$ref":"#/components/schemas/Group"}],"default":"SELL"}},"type":"object","title":"AdvUpdate","description":"Base model to update advertisement info"},"Body_login_user_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_user_auth_login_post"},"CommentBase":{"properties":{"body":{"type":"string","maxLength":500,"minLength":1,"title":"Body"},"id":{"type":"integer","title":"Id"},"author_id":{"type":"integer","title":"Author Id"},"adv_id":{"type":"integer","title":"Adv Id"}},"type":"object","required":["body","id","author_id","adv_id"],"title":"CommentBase","description":"Base model to view comment info"},"CommentCreate":{"properties":{"body":{"type":"string","maxLength":500,"minLength":1,"title":"Body"}},"type":"object","required":["body"],"title":"CommentCreate","description":"Model to CREATE object"},"Group":{"type":"string","enum":["SELL","BUY","SERVICE"],"title":"Group","description":"List of available adv groups"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Roles":{"type":"string","enum":["USER","ADMIN","MODERATOR"],"title":"Roles","description":"List of available user roles"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"type":{"type":"string","title":"Type","default":"Bearer"}},"type":"object","required":["access_token"],"title":"Token","description":"Model to return token info after authorization"},"UserBase":{"properties":{"username":{"type":"string","title":"Username"},"fullname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fullname"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"advertisements":{"items":{"$ref":"#/components/schemas/AdvBase"},"type":"array","title":"Advertisements"}},"type":"object","required":["username","advertisements"],"title":"UserBase","description":"Base model to check user info"},"UserCreate":{"properties":{"username":{"type":"string","maxLength":25,"minLength":3,"title":"Username"},"password":{"type":"string","minLength":3,"title":"Password"}},"type":"object","required":["username","password"],"title":"UserCreate","description":"Model to CREATE user"},"UserFullInfo":{"properties":{"username":{"type":"string","title":"Username"},"fullname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fullname"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"advertisements":{"items":{"$ref":"#/components/schemas/AdvBase"},"type":"array","title":"Advertisements"},"id":{"type":"integer","title":"Id"},"role":{"$ref":"#/components/schemas/Roles"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["username","advertisements","id","role","is_active"],"title":"UserFullInfo","description":"Extended model to check user info by Admin"},"UserUpdate":{"properties":{"username":{"type":"string","maxLength":25,"minLength":3,"title":"Username"},"password":{"type":"string","minLength":3,"title":"Password"},"fullname":{"type":"string","title":"Fullname"},"email":{"type":"string","format":"email","title":"Email"}},"type":"object","title":"UserUpdate","description":"Base model to update user profile info"},"UserUpdateAdmin":{"properties":{"username":{"type":"string","title":"Username"},"role":{"allOf":[{"$ref":"#/components/schemas/Roles"}]},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["username"],"title":"UserUpdateAdmin","description":"Extended model to update user restricted data by Admin"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"auth/login"}}}}}}